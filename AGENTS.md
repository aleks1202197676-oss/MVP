# AGENTS.md

## Source of truth
- **Единый источник истины для агента: `latest_bundle.zip`**.
- Перед выполнением задач агент должен опираться на содержимое bundle и правила этого репозитория.

## Two-phase protocol
1. **Preflight first**: анализ текущего состояния, scope изменений, рисков, критериев приёмки и команд проверки.
2. **Implement second**: только после preflight и только в разрешённом scope.

## Track discipline
- Поддерживаются треки: `PR-A*`, `PR-F*`, `PR-G*`.
- Агент обязан соблюдать трековую дисциплину и не заходить в запрещённые области.
- При конфликте scope — fail-fast с коротким actionable сообщением.

## Patch-first execution
- Предпочитать небольшие, проверяемые patch-изменения.
- Не добавлять placeholder-значения и заглушки (`...`, `TODO` без контекста).

## Operator-first preference
- Когда возможно, задачи/патчи оформлять через очередь `tools/operator` (task queue / handoff), чтобы снизить ручные действия и упростить передачу контекста.

## Safety
- Не добавлять новые зависимости без явной необходимости.
- Всегда указывать команды проверки и фактический результат.
